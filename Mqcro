-- Create UI
local player = game.Players.LocalPlayer
local backpack = player:WaitForChild("Backpack")
local UIS = game:GetService("User InputService")

-- Create ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Parent = player:WaitForChild("PlayerGui")
screenGui.Name = "FarmingUI"

local mainFrame = Instance.new("Frame")
mainFrame.Parent = screenGui
mainFrame.Size = UDim2.new(0, 300, 0, 150)
mainFrame.Position = UDim2.new(0, 50, 0, 50)
mainFrame.BackgroundColor3 = Color3.fromRGB(0, 255, 0)
mainFrame.Draggable = true
mainFrame.Active = true

local startButton = Instance.new("TextButton")
startButton.Parent = mainFrame
startButton.Size = UDim2.new(0, 200, 0, 50)
startButton.Position = UDim2.new(0, 50, 0, 50)
startButton.Text = "Start Auto Farming"
startButton.BackgroundColor3 = Color3.fromRGB(120, 255, 120)

local statusLabel = Instance.new("TextLabel")
statusLabel.Parent = mainFrame
statusLabel.Size = UDim2.new(0, 200, 0, 30)
statusLabel.Position = UDim2.new(0, 50, 0, 110)
statusLabel.Text = "Status: Idle"
statusLabel.BackgroundColor3 = Color3.fromRGB(255, 255, 255)

local farming = false
local angle = 0
local radius = 100 -- Set radius to 100
local speed = 1 -- Speed of rotation

-- Function to equip the Hellfire Sword
local function equipHellfireSword()
    local sword = backpack:FindFirstChild("Hellfire")
    if sword then
        local character = player.Character or player.CharacterAdded:Wait()
        local humanoid = character:WaitForChild("Humanoid")
        humanoid:EquipTool(sword)
    else
        print("Hellfire sword not found in backpack!")
    end
end

-- Function to move in circles around a position
local function moveInCircles()
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoid = character:WaitForChild("Humanoid")
    local hrp = character:WaitForChild("HumanoidRootPart")
    
    -- Define the center position to move around
    local centerPosition = hrp.Position

    while farming do
        -- Calculate new target position in a circle
        local x = math.cos(angle) * radius + centerPosition.X
        local z = math.sin(angle) * radius + centerPosition.Z
        local targetPosition = Vector3.new(x, centerPosition.Y, z)

        -- Move towards the target position
        humanoid:MoveTo(targetPosition)

        -- Update angle for the next position
        angle = angle + math.rad(speed)

        wait(0.1) -- Adjust the wait time for smooth movement
    end
end

-- UI Button Toggle
startButton.MouseButton1Click:Connect(function()
    farming = not farming
    if farming then
        startButton.Text = "Stop Auto Farming"
        statusLabel.Text = "Status: Farming"
        equipHellfireSword() -- Equip the sword when starting
        task.spawn(moveInCircles)  -- Start the movement
    else
        startButton.Text = "Start Auto Farming"
        statusLabel.Text = "Status: Idle"
    end
end)

-- Ensure the UI is visible
screenGui.Enabled = true
