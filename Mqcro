local player = game.Players.LocalPlayer
local backpack = player.Backpack
local UIS = game:GetService("UserInputService")
local mouse = player:GetMouse()

-- UI Setup
local screenGui = Instance.new("ScreenGui")
screenGui.Parent = player:WaitForChild("PlayerGui")
screenGui.Name = "FarmingUI"

local mainFrame = Instance.new("Frame")
mainFrame.Parent = screenGui
mainFrame.Size = UDim2.new(0, 300, 0, 150)
mainFrame.Position = UDim2.new(0, 50, 0, 50)
mainFrame.BackgroundColor3 = Color3.fromRGB(0, 255, 0)
mainFrame.Draggable = true
mainFrame.Active = true

local startButton = Instance.new("TextButton")
startButton.Parent = mainFrame
startButton.Size = UDim2.new(0, 200, 0, 50)
startButton.Position = UDim2.new(0, 50, 0, 50)
startButton.Text = "Start Auto Farming"
startButton.BackgroundColor3 = Color3.fromRGB(120, 255, 120)

local statusLabel = Instance.new("TextLabel")
statusLabel.Parent = mainFrame
statusLabel.Size = UDim2.new(0, 200, 0, 30)
statusLabel.Position = UDim2.new(0, 50, 0, 110)
statusLabel.Text = "Status: Idle"
statusLabel.BackgroundColor3 = Color3.fromRGB(255, 255, 255)

local farming = false

-- Function to click keybinds
local function pressKey(key)
    local input = Instance.new("InputObject")
    input.UserInputType = Enum.UserInputType.Keyboard
    input.KeyCode = key
    UIS.InputBegan:Fire(input)
end

-- Function to move in circles around a position
local function moveInCircles()
    local position = Vector3.new(0, 5, 1)
    local radius = 100
    local speed = 1
    local angle = 0

    while farming do
        local x = math.cos(angle) * radius + position.X
        local z = math.sin(angle) * radius + position.Z
        player.Character:MoveTo(Vector3.new(x, position.Y, z))
        angle = angle + math.rad(speed)
        wait(0.1)
    end
end

-- Equip Hellfire Sword
local function equipHellfireSword()
    for _, item in pairs(backpack:GetChildren()) do
        if item.Name == "Hellfire" then
            player.Character:WaitForChild("Humanoid"):EquipTool(item)
            break
        end
    end
end

-- Auto farm actions
local function autoFarm()
    while farming do
        -- Equip Sword
        equipHellfireSword()

        -- Use abilities
        if player.Character:FindFirstChild("Hellfire") then
            local sword = player.Character.Hellfire
            if sword:FindFirstChild("over") then
                sword.over:Activate()
            end
            if sword:FindFirstChild("wrath") then
                sword.wrath:Activate()
            end
        end

        -- Press Q and E keybinds
        pressKey(Enum.KeyCode.Q)
        pressKey(Enum.KeyCode.E)
        
        wait(2) -- Wait before using abilities again
    end
end

-- UI Button Toggle
startButton.MouseButton1Click:Connect(function()
    farming = not farming
    if farming then
        startButton.Text = "Stop Auto Farming"
        statusLabel.Text = "Status: Farming"
        moveInCircles()
        autoFarm()
    else
        startButton.Text = "Start Auto Farming"
        statusLabel.Text = "Status: Idle"
    end
end)
